<app-header></app-header>
<div class="actions"> 
  <button (click) = "AddUser()">Add User</button> 
  <button (click) = "ContactUs()">Contact Us</button> 
</div> 
<main>
    <ul id="users">
        @for (user of users; track user.id) {
            <li>
                <app-user [user]="user" [isSelected] = "user.id === selectedUser?.id" (userClicked)="onUserSelected($event)"></app-user>
                <!-- <app-users-with-signals [user]="user" [isSelected] = "user.id === selectedUser?.id" (userClicked)="onUserSelected($event)"></app-users-with-signals> -->
            </li>
        }
        
    </ul>
    @if (selectedUser) {
        <app-tasks [name]="selectedUser?.name" [userId]="selectedUser?.id"></app-tasks>
    }
    @else{
        <p>Please select a user to view his tasks</p>
    }

    @if(contact){
        <app-contact-us (cancel) ="Cancel()" (send) = "Send()"></app-contact-us>
    }
    
    @if(addUser){
        <app-new-user (cancel) ="Cancel()" (send) = "onAddUser($event)"></app-new-user>
    }

</main>
